define(["jquery","metisMenu","sb_admin","dataTablesBootstrap","sco"],function(e,t){var a=function(){e.post("/userRole/userList",function(t){var a=e("#user_filter");a.empty(),a.append("<option value='' checked>请选择用户</option>");for(var s=0;s<t.length;s++){var n=t[s].USER_NAME;null==n&&(n=""),a.append("<option value='"+n+"'>"+n+"</option>")}},"json")};e(document).ready(function(){eeda.dt({id:"eeda-table",ajax:"/role/listPart",columns:[{data:null,width:"7%",render:function(e,t,a,s){return'<input type="checkbox" name="roleCheck" class="unChecked" value="'+a.ID+'">'}},{data:"NAME"},{data:"REMARK"}]});a();var t=[];e("#eeda-table").on("click",".unChecked",function(){t.splice(0,t.length),e("input[name='roleCheck']").each(function(){1==e(this).prop("checked")&&t.push(e(this).val())})}),e("#saveBtn").click(function(s){s.preventDefault();var n=e("#user_filter").val(),i=t.toString();""!=n&&0!=t.length?e.post("/userRole/saveUserRole?name="+n+"&roles="+i,function(s){e.scojs_message("保存成功",e.scojs_message.TYPE_OK),e("#user_filter").empty(),a(),e("input[name='roleCheck']").each(function(){e(this).prop("checked",!1)}),t.splice(0,t.length)},"json"):e.scojs_message("保存失败，当前没有选择用户或者岗位",e.scojs_message.TYPE_ERROR)});var s='<div id="message_trigger_err" class="alert alert-danger alert-dismissable"  style="display:none"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>Lorem ipsum dolor sit amet, consectetur adipisicing elit. <a href="#" class="alert-link">Alert Link</a>.</div>';e("body").append(s)})});
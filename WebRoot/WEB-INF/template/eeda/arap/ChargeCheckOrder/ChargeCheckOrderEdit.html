<%layout("/eeda/layout.html"){%>
<div id="page-wrapper">
	<div class="form-group">
		<div class="col-lg-12">
			<div class="btn-header" style="font-size: 32px">应收对账单</div>
		</div>
	</div>

	<input id="order_id" type="hidden" name="order_id" value="${order.id!''}" />
	<div class="form_group">
		<!--  form row  -->
		<form id="orderForm">
			<input id="sp_id" type="hidden" name="sp_id" value="${order.sp_id!''}" />
				<!--  第1行  -->
		   	<!--  第2行  -->
			<div class="row">
				<div class="col-lg-4">
					<%include("/eeda/component/form/inputField.html", {
					id:'order_no', label:'对账单号', value:order.order_no!'', disabled:
					'disabled' }){}%>
				</div>
				<div class="col-lg-4">
					<%include("/eeda/component/form/inputField.html", { id:'status',
					label:'单据状态', value:order.status!'新建', disabled: 'disabled' }){}%>
				</div>
				<div class="col-lg-4">
					<%include("/eeda/component/form/inputField.html", {
					id:'creator_name', label:'创建人', value:order.user!order.creator_name!'', disabled:
					'disabled' }){}%>
				</div>
			</div>
			<!--  第3行  -->
			<div class="row">
				<div class="col-lg-4">
					<%include("/eeda/component/form/inputField.html", {
					id:'create_stamp', label:'创建时间', value:order.create_stamp!'',
					disabled: 'disabled' }){}%>
				</div>
				<div class="col-lg-4">
					<%include("/eeda/component/form/inputField.html", {
					 id:'creator_name',
					 label:'确认人',
					 value:order.confirm_by_name!'', 
					 disabled:'disabled' 
					 }){}%>
				</div>
				<div class="col-lg-4">
					<%include("/eeda/component/form/inputField.html", {
					id:'create_stamp', label:'确认时间',
					value:order.confirm_stamp!'',
					disabled: 'disabled'
					 }){}%>
				</div>
			</div>
			<!--  第4行  -->
			<div class="row">
				<div class="col-lg-4">
					<%include("/eeda/component/form/inputField.html", { id:'company_name',
					label:'结算公司', value:order.company_name!'',disabled:'disabled'
					}){}%>
				</div>
				<div class="col-lg-4">
					<%include("/eeda/component/form/inputField.html", { id:'address',
					label:'地址', value:order.address!'',disabled:'disabled'
					}){}%>
				</div>
				<div class="col-lg-4">
					<%include("/eeda/component/form/inputField.html", { id:'customer',
					label:'联系人', value:order.customer!'',disabled:'disabled'
					}){}%>
				</div>
			</div>
			<!--  第5行  -->
			<div class="row">
				<div class="col-lg-4">
					<%include("/eeda/component/form/inputField.html", { id:'phone',
					label:'电话', value:order.phone!'',disabled:'disabled'
					}){}%>
				</div>
				<div class="col-lg-4">	
					<%include("/eeda/component/form/inputDateQueryField.html", { id:'check_time',
					label:'对账时间', begin_value:order.begin_time!'', end_value:order.end_time!'', disabled: 'disabled' 
					}){}%>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-12">
					<label>备注</label>
					<textarea id='remark' class="form-control" rows="3" name="remark">${order.remark!''}</textarea>
				</div>
			</div><br><br>
			
		<!--  	<div class="row">
				<div class="col-lg-4">
					<%include("/eeda/component/form/inputField.html", { id:'total_amount',
					label:'应收总金额(CNY)', value:order.total_amount!'',disabled:'disabled'
					}){}%>
				</div>
				<div class="col-lg-4">
					<%include("/eeda/component/form/inputField.html", { id:'check_amount',
					label:'对账总金额(CNY)', value:order.check_amount!order.total_amount!'',disabled:'disabled'
					}){}%>
				</div>
			</div>      -->
			
			<div class="row">
				<div class="form-group">
					<div class="col-lg-12">
						<h4>结算汇总金额</h4>
					</div>
				</div>
		   </div>
			<div class="row">
				<div class="col-lg-3">
					<%include("/eeda/component/form/inputField.html", { id:'cny',
					label:'应收CNY', value:order.cny!'',disabled:'disabled'
					}){}%>
				</div>
				<div class="col-lg-3">
					<%include("/eeda/component/form/inputField.html", { id:'usd',
					label:'应收USD', value:order.usd!'',disabled:'disabled'
					}){}%>
				</div>
				<div class="col-lg-3">
					<%include("/eeda/component/form/inputField.html", { id:'hkd',
					label:'应收HKD', value:order.hkd!'',disabled:'disabled'
					}){}%>
				</div>
				<div class="col-lg-3">
					<%include("/eeda/component/form/inputField.html", { id:'jpy',
					label:'应收JPY', value:order.jpy!'',disabled:'disabled'
					}){}%>
				</div>
			</div>

			<div class="row"  style="display:none">
				<!--  第4行  -->
				<div class="col-lg-4">
					<div class="form-group">
                         <label class="label-margin">是否开票</label>
                        	<label class="radio-inline">
                             <input type="radio" name="invoiceType" value="Y" <% if(order.have_invoice!''=='Y'||order.have_invoice==''){ %>checked="checked"<% }%>>是
                         </label>
                        	 <label class="radio-inline">
                             <input type="radio" name="invoiceType"  value="N" <% if(order.have_invoice!'N'=='N'){%>checked="checked"<% }%>>否
                         </label>
                     </div>
                </div>
			</div>
			<div class="row" id="invoice_flag" <% if(order.have_invoice!'N'=='N'){%>style="display:none"<% }%>>
				<div class="col-lg-4">
					<%include("/eeda/component/form/inputField.html", { id:'billing_unit',
					label:'开票单位', value:order.billing_unit!''}){}%></div>
				<div class="col-lg-4">
					<%include("/eeda/component/form/inputField.html", { id:'payee',
					label:'收款人', value:order.payee!''}){}%></div>
			</div>

			
		</form>
	</div>
	<!-- /.row -->

	<div class="group-form" style="margin-top: 15px;">
		<ul id="orderTabs" class="nav nav-tabs">
			<li class="active"><a href="#itemDetail" data-toggle="tab"
				id="costCheckOrderItem">明细信息</a></li>
		</ul>
		<br>
	<!--	<div class="group-form" id="currencyDiv">
		  	<ul>
				<% for(currency in order.currencyList!''){ %>
					<li>
						<div class="row">
							<div class="col-lg-4">
								<label  class="search-label">${currency.CURRENCY_NAME!''}</label>
								<input name="rate" class="form-control search-control"  value="${currency.exchange_rate!''}" disabled>
							</div>
							<div class="col-lg-4">
								<label  class="search-label">当前${currency.CURRENCY_NAME!''}汇率</label>
								<input name="new_rate" rate_id="${currency.RATE_ID!''}" currency_id="${currency.ID!''}" currency_name="${currency.CURRENCY_NAME!''}" class="form-control search-control"  value="${currency.new_rate!''}" autocomplete="off" >
							</div>
						</div>
					</li>
				<% }%>
			</ul>   -->
			<div class="group-form"  id="currencyDiv">
                <div class="row">
                    <div class="col-lg-4">
                        <%include("/eeda/component/form/selectField.html", 
                                    {   id:'exchange_currency',
                                        label:'选中行', 
                                        value:'',
                                        value_list:[
                                            {code:'CNY', value:'兑换成CNY'},
                                            {code:'USD', value:'兑换成USD'},
                                            {code:'HKD', value:'兑换成HKD'},
                                            {code:'JPY', value:'兑换成JPY'}
                                        ]
                                    }){}%>
                    </div>
                    <div class="col-lg-4">
                        <%include("/eeda/component/form/inputField.html", { id:'exchange_rate',
                        label:'兑换汇率'
                        }){}%>
                    </div>
                    <button id='exchange' class="btn btn-primary btn-sm">兑换</button>
                </div>
	        </div>
				<div class="col-lg-12">
						<%include("/eeda/component/form/detailTable.html", 
                            {
                                id:'eeda-table', 
                                style:'width:1500px',
                                headers:['',
                                    '工作单号',
                                    '出货日期',			                                       
                                    '结算公司',
                                    '对账币制',
                                    '对账金额', 
                                    '原汇率',
                                    '原总金额(CNY)',
                                    '当前汇率',  
                                    '当前总金额(CNY)',
                                    '结算币制', 
                                    '结算汇率', 
                                    '结算金额',                                     
                                    '体积',
                                    '箱量',
                                    '重量',
                                    '箱号',
                                    'REF_NO',
                                    'MBL_NO',
                                    'HBL_NO',
                                    ''	                                        
                                ],
					field_list:['id','order_no','create_stamp','sp_name','currency_name','total_amount','exchange_rate','after_total',
					'new_rate','after_rate_total','exchange_currency_name','exchange_currency_rate','exchange_total_amount','vgm','container_amount',
					'gross_weight','container_no','ref_no','mbl_no','hbl_no','order_type'], value_list: order.itemList!item_list![] }){} %>
			</div>
	</div>
	<div class="row">
		<div class="col-lg-12">
			<br>
			<button id='saveBtn' class="btn  btn-primary" disabled >保存</button> 
			<button id='confrimBtn' class="btn  btn-primary" disabled >确认</button> 
			<button id="printBtn" type="button" class="btn  btn-primary" disabled >打印</button>
			<button id="printTotaledBtn" type="button" class="btn  btn-primary" disabled >打印(合计版本)</button>
			<a class="btn  btn-default" href="/chargeCheckOrder">返回</a>
		</div>
		<!-- /.col-lg-12 -->
	</div>
</div>
<%}%>
<script> 
    var itemOrder = {};
</script>
<script>
    requirejs(['/js/common.js', '/js/eeda/eeda-common.js'], function (common) {
        requirejs(['app/arap/ChargeCheckOrder/edit']);
    });
</script>

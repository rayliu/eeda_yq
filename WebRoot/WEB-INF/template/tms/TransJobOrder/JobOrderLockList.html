<%layout("/eeda/layout.html"){%>
<div id="page-wrapper">
	<div class="row simple_search_div">
    	<div class="panel panel-default">
        	<div id="collapseChargeInfo" class="panel-collapse" aria-expanded="false" style="height: auto;">
        		<div class="panel-body" id="ChargeDiv">
        			<div class="col-lg-12">
        				<form id="orderForm" method="post" action="">	
							<div class="row">
								<div class="col-lg-4">
					           		<%include("/eeda/component/form/inputField.html", 
					                	{   id:'order_no', 
					                    	label:'工作单号',	                                                    
					                        value:jobOrder.order_no!order.order_no!''
					            		}){}%>
					           	</div>
								<div class="col-lg-4">
									<%include("/eeda/component/form/inputSpField.html",
										{	id:'customer_name',
											label:'客户名称',
											value: ''
										}){} %>
								</div>
								<div class="col-lg-4" id="month" style="display:block;">        
		                    		<%include("/eeda/component/form/inputDateQueryField.html",
		                    			{	id:'create_time',
		                    				label:'创建时间',
		                    				value:''
		                    			}){} %>
								</div>
							</div>
							<div class="row">
								<div class="col-lg-4">
					           		<%include("/eeda/component/form/inputSpField.html", 
					                	{   id:'sp_id', 
					                    	label:'结算公司',	                                                    
					                        value:''
					            		}){}%>
					           	</div>
                				<div class="col-lg-4">
	                            	<%include("/eeda/component/form/inputCarInfoField.html", 
	                                                {   id: 'car_id', 
	                                                    label: '结算车牌', 
	                                                    value: ''
	                                                }){}%>
	                        	</div>
					           	<div class="col-lg-4" id="month" style="display:block;">        
		                    		<%include("/eeda/component/form/inputDateQueryField.html",
		                    			{	id:'cabinet_date',
		                    				label:'提柜时间',
		                    				value:''
		                    			}){} %>
								</div>
							</div>
							<div class="row">
								<div class="col-lg-4">
	                                  <%include("/eeda/component/form/selectField.html", 
	                                    {   id:'cabinet_type', 
	                                        label:'柜型', 
	                                        value:order.cabinet_type!'',
	                                        value_list:[
	                                        	{code:'', value:''},
	                                            {code:'40HQ', value:'40HQ'},
	                                            {code:'20GP', value:'20GP'},
	                                            {code:'40GP', value:'40GP'},
	                                            {code:'45GP', value:'45GP'}
	                                        ]
	                                    }){}%>
	                			</div>
	                			<div class="col-lg-4">
					           		<%include("/eeda/component/form/inputField.html", 
					                	{   id:'container_no', 
					                    	label:'柜号',	                                                    
					                        value:jobOrder.container_no!order.container_no!''
					            		}){}%>
					           	</div>
					           	<div class="col-lg-4" id="month" style="display:block;">        
		                    		<%include("/eeda/component/form/inputDateQueryField.html",
		                    			{	id:'charge_time',
		                    				label:'结算时间',
		                    				value:''
		                    			}){} %>
								</div>
	                		</div>
	                		<div class="row">
	                			<div class="col-lg-4">
	                                  <%include("/eeda/component/form/selectField.html", 
	                                    {   id:'status', 
	                                        label:'状态', 
	                                        value:order.trade_type!'',
	                                        value_list:[
	                                            {code:'新建', value:'新建'},
	                                            {code:'已完成', value:'已完成'},
	                                            {code:'', value:''}
	                                        ]
	                                    }){}%>
	                			</div>
	                		</div>
							<div class="form-group button-bar" >
		                		<button id="searchBtn" class="btn btn_grey" type="button">查询</button>
		                		<button id="resetBtn" class="btn btn-default btn-sm" type="button">清空条件</button>
		                	</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="simple_row_div" >
		<button id="lockBtn" class="btn btn_green guide_target2" style="margin-top:12px;margin-left:12px;" type="button" disabled>工作单锁单</button>
		<button id="unLockBtn" class="btn btn_green guide_target3" style="margin-top:12px;" type="button" disabled>工作单解锁</button>
	</div>
	<div>
		<%include("/eeda/component/form/detailTable.html", 
			{
				id:'eeda-table', 
				style:'width:1450px',
				headers:['<input type="checkBox" id="allCheckBox">','工作单号',
				    '客户名称',
				    '类型',
				    '柜号',
				    'SO号',
				    '提柜/提货时间',
				    '结算时间',
				    '柜型',
				    '头程船公司',
				    '运费',
				    '其他费用',
				    '创建人',
				    '创建时间',
				    '状态']
			}){} %>
	</div>
</div> <!-- end of  .page-wrapper-->
        
        <!-- 删除单据的原因 -->
        <a data-target='#deleteReasonDetail' data-toggle='modal'>
            <button id="deleteReasonDetailAlert" style="display:none"></button>
        </a>
        <div class="modal fade" id="deleteReasonDetail">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">请填写删除原因</div>
                <div class="modal-body">
                    <input id="delete_id" type="hidden">
                    <form id="deleteReasonDetailForm">
                     <div class="form-group">
                     <select class="form-control search-control deleteReason">
                     <option>单据重复</option>                   
                     <option>单据作废</option>
                     <option>单据信息错误太多，不要了</option>                     
                     </select><br/><br/>
                     <textarea id='deleteReason' name="deleteReason" class="form-control" rows="3" required></textarea>
                     </div>
                     </form>
                </div>
              <div class="modal-footer">
                <button class="btn  btn-default return" data-dismiss="modal">返回</button>
                <button class="btn btn-primary confirm" >确定删除</button>
            </div>
        </div>
      </div>
      
    </div>


<%}%>

<script>
      var type = "${type!''}";
 </script>
<script>
    requirejs(['/js/common.js', '/js/eeda/eeda-common.js'], 
        function (common) {
        requirejs(['app/tms/transJobOrder/lockList']);
    },
    function(error) {
        console.error('报错了: ',error);
        //error.requireModules : is Array of all failed modules
        var failedId = error.requireModules && error.requireModules[0];
        console.error(failedId);
        console.error(error.message);
    });
</script>

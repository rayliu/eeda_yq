<%layout("/eeda/layout.html"){%>
    <div id="page-wrapper">
        <div class="row simple_search_div">
            <div class="col-lg-12">
                <form id="orderForm">
                    <div class="row">
                        <div class="col-lg-4">
                        	<%include("/eeda/component/form/inputField.html", 
                        	{ 	id: 'item_no', 
                            	label: '产品编码', 
                            	value: ''
                        	}){}%>
                        </div>
                        <div class="col-lg-4">
                        	<%include("/eeda/component/form/inputField.html", 
                        	{ 	id: 'part_no', 
                            	label: '组件编码', 
                            	value: ''
                        	}){}%>
                        </div>
                    </div>
                </form>
               	<div class="form-group button-bar" >
                    <button id="searchBtn" class="btn btn-default" type="button">查询</button>
                    <button id="resetBtn" class="btn btn-default" type="button">清空条件</button>
                    <% if(shiro.hasPermission("wmsproduct.export")){ %>
                    <button id="uploadBtn" class="btn btn-default" type="button">导入</button>
                    <% }%>
                    <input type="file" id="toFileUpload" name="files[]" 
		     		style="position:absolute;  opacity:0;" data-url="/importOrder/importOrder?order_type=product">
                </div>
            </div>
        </div>
        
        <div class="form-group itemShow" style="display:none;" >
            <div class="col-lg-6"><h4><span id="orderText"></span></h4></div>
            <div class="col-lg-6"><h4><span id="partText"></span></h4></div>
        </div>
        
        <div class="row simple_list_div" id="itemDiv">
                <%include("/eeda/component/form/detailTable.html", 
                {
                    id:'eeda-table', 
                    headers:[
                    	'产品编码',
                    	'产品名称',
                    	'组件数量'
                        ]
                }){} %>
        </div>
        
        <div class="modal fade" id="partDetail" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		  <div class="modal-dialog" style="width:1200px;">
		    <div class="modal-content">
               <div class="modal-header"><h3>BOM明细列表</h3></div>
		      	<div class="modal-body">
                    <div class="row" >
	                    <div class="col-lg-6">
	                    	<h4>产品编码: <span id="itemNo"></span></h4>
            				<h4>产品名称: <span id="itemName"></span></h4>
	                    </div>
                    	<div class="col-lg-6">
                    		<h4>组件数量：<span id="part_amount"></span></h4>
                    	</div>
                    </div>
					<div class="">  
						 <%include("/eeda/component/form/detailTable.html", 
                        { 
							id:'item_table', 
							style:'width:1100px;',
	                   		 headers:[
	                    	'产品编码',
	                    	'产品名称',
	                    	'组件编码',
	                    	'组件名称',
	                        '图像',
	                        '使用量'
	                        ]  
	                    }){} %>
	               </div>
		        </div>
		        <div class="modal-footer">
		        	<button type="button" id="confirmBtn" disabled class="btn  btn-primary" style="display:none;">确认</button>
		            <button type="button" id="returnBtn" class="btn  btn-default" data-dismiss="modal">返回</button>
		        </div>
		    </div>
		  </div>
		</div>
        
        

        
        <div class="panel-heading">
            <div class="modal fade" id="myModal" tabindex="-1" role="dialog"  aria-labelledby="myModalLabel" aria-hidden="false" data-backdrop="static">
              <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body pre-scrollable">
                    		<span id="msgLoad"></span>
                    </div>
                    <div class="modal-footer" id="footer" aria-hidden="true">
                    	<button type="button" class="btn  btn-primary" id="confirm" style="display:none">确认</button>
				  	<button type="button" class="btn  btn-primary" data-dismiss="modal" id="cancel">关闭</button>
					</div>
                </div>
              </div>
            </div>
        </div>
    </div>
<%}%>
<div class="blockUI" style="display:none"></div>
<div class="blockUI blockOverlay" style="z-index: 1000; border: none; margin: 0px; padding: 0px; width: 100%; height: 100%; top: 0px; left: 0px; background-color: rgb(0, 0, 0); opacity: 0.6; cursor: wait; position: fixed;">222</div>
<div class="blockUI blockMsg blockPage" style="z-index: 1011; position: fixed; padding: 0px; margin: 0px; width: 30%; top: 40%; left: 35%; text-align: center; color: rgb(0, 0, 0); border: 3px solid rgb(170, 170, 170); background-color: rgb(255, 255, 255); cursor: wait;">
	<h1><img src="/images/loading.gif" style="height: 50px; margin-top: -3px;">LOADING...</h1>
</div>
<script>
    requirejs(['/js/eeda/eeda-common.js'], function (common) {
        requirejs(['app/wms/product/list','app/wms/product/upload']);
    });
</script>

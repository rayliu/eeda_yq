package controllers.eeda;import java.util.Date;import java.util.List;import org.apache.shiro.authz.annotation.RequiresAuthentication;import com.jfinal.aop.Before;import com.jfinal.core.Controller;import com.jfinal.kit.LogKit;import com.jfinal.plugin.activerecord.Db;import com.jfinal.plugin.activerecord.Record;import controllers.profile.LoginUserController;import interceptor.SetAttrLoginUserInterceptor;import models.UserLogin;@RequiresAuthentication@Before(SetAttrLoginUserInterceptor.class)public class SurveyController extends Controller {	public void index() {		redirect("/");	}	public void step1() {        List<Record> list = Db.find("select * from eeda_survey_setting where type='page1'");        setAttr("itemList", list);        render("/eeda/index/survey1.html");    }		public void step2() {	    List<Record> list = Db.find("select * from eeda_survey_setting where type='page2'");        setAttr("itemList", list);        render("/eeda/index/survey2.html");    }	public void step1save() {	    UserLogin user = LoginUserController.getLoginUser(this);	    String value = getPara("val");	    	    Record rec = new Record();	    rec.set("user_id", user.getLong("id"));	    rec.set("page", "行业");	    rec.set("page_value", value);	    rec.set("create_time", new Date());	    Db.save("eeda_survey", rec);	    renderText("ok");	}		public void step2save() {        UserLogin user = LoginUserController.getLoginUser(this);        String value = getPara("val");                Record rec = new Record();        rec.set("user_id", user.getLong("id"));        rec.set("page", "职业");        rec.set("page_value", value);        rec.set("create_time", new Date());        Db.save("eeda_survey", rec);        renderText("ok");    }}